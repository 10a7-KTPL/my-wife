<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ’– Em cÆ°á»›i anh nhÃ©? ğŸ’–</title>
<style>
body {
  margin:0;
  height:100vh;
  background: linear-gradient(135deg,#ffb6c1,#fff0f5);
  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  overflow:hidden;
  font-family:"Segoe UI", cursive;
  color:#e91e63;
  text-align:center;
}
h1{font-size:2.2em;margin:0;}
#slideshow{
  width:260px;height:260px;border-radius:50%;overflow:hidden;
  box-shadow:0 0 20px rgba(255,182,193,0.8);margin-bottom:20px;
}
#slideshow img{position:absolute;width:100%;height:100%;object-fit:cover;opacity:0;transition:opacity 1.2s;}
#slideshow img.active{opacity:1;}
button{
  margin:10px;background-color:#ff69b4;border:none;color:white;padding:12px 25px;
  font-size:1.1em;border-radius:25px;cursor:pointer;box-shadow:0 0 10px #ffb6c1;
}
button:active{transform:scale(0.9);} /* mobile friendly */
#noBtn{position:absolute;}
.heart{position:fixed;bottom:0;font-size:20px;color:#ff69b4;animation:floatUp 5s linear infinite;}
@keyframes floatUp{0%{transform:translateY(0) scale(1);opacity:1;}100%{transform:translateY(-100vh) scale(1.8);opacity:0;}}
#surpriseScreen{display:none;position:fixed;inset:0;background:linear-gradient(135deg,#ffe0eb,#fff0f7);
flex-direction:column;justify-content:flex-start;align-items:center;overflow-y:auto;padding-top:30px;}
#gallery{width:90%;max-width:500px;height:250px;overflow:hidden;position:relative;margin-bottom:20px;}
#gallery img{position:absolute;width:100%;height:100%;object-fit:cover;opacity:0;transition:opacity 1.2s;}
#gallery img.active{opacity:1;}
#wishBox{background:white;padding:15px;border-radius:15px;width:85%;max-width:500px;
box-shadow:0 0 10px #ffb6c1;color:#e91e63;min-height:120px;white-space:pre-wrap;}
</style>
</head>
<body>

<div id="slideshow">
  <img src="https://picsum.photos/300?random=1" class="active">
  <img src="https://picsum.photos/300?random=2">
  <img src="https://picsum.photos/300?random=3">
  <img src="https://picsum.photos/300?random=4">
</div>

<h1>Em cÆ°á»›i anh nhÃ©? ğŸ’–</h1>
<div>
  <button id="yesBtn">Äá»“ng Ã½ ğŸ’</button>
  <button id="noBtn">KhÃ´ng ğŸ˜…</button>
</div>

<div id="surpriseScreen">
  <div id="gallery">
    <img src="https://picsum.photos/400?random=10" class="active">
    <img src="https://picsum.photos/400?random=11">
    <img src="https://picsum.photos/400?random=12">
    <img src="https://picsum.photos/400?random=13">
  </div>
  <div id="milestones"></div>
  <div id="wishBox">HÃ£y viáº¿t lá»i chÃºc cá»§a anh á»Ÿ Ä‘Ã¢y ğŸ’–
(Em cÃ³ thá»ƒ chá»‰nh láº¡i trong code)</div>
</div>

<script>
// slideshow Ä‘áº§u
const slides=document.querySelectorAll('#slideshow img');
let idx=0;
setInterval(()=>{
  slides[idx].classList.remove('active');
  idx=(idx+1)%slides.length;
  slides[idx].classList.add('active');
},3500);

// tim bay
function createHeart(){const h=document.createElement('div');h.className='heart';h.textContent='ğŸ’–';h.style.left=Math.random()*100+'vw';h.style.fontSize=(Math.random()*20+15)+'px';document.body.appendChild(h);setTimeout(()=>h.remove(),5000);}setInterval(createHeart,300);

// nÃºt KhÃ´ng â€” mobile friendly
const no=document.getElementById('noBtn');
no.onclick = () => moveNo(); // mobile tap
no.onmouseover = () => moveNo();
function moveNo(){
  const x=Math.random()*(window.innerWidth-80);
  const y=Math.random()*(window.innerHeight-80);
  no.style.left=x+'px';no.style.top=y+'px';
}

// Äá»“ng Ã½
const yes=document.getElementById('yesBtn');
yes.onclick=()=>{
  document.querySelector('h1').style.display='none';
  document.getElementById('slideshow').style.display='none';
  yes.style.display='none';
  no.style.display='none';
  startScreen();
}

// gallery mÃ n hÃ¬nh sau
const gal=document.querySelectorAll('#gallery img');
let g=0;
setInterval(()=>{
  gal[g].classList.remove('active');
  g=(g+1)%gal.length;
  gal[g].classList.add('active');
},4000);

// má»‘c ká»· niá»‡m + typewriter
function startScreen(){
  document.getElementById('surpriseScreen').style.display='flex';
  const list=[
    "ğŸ’– NgÃ y chÃºng ta gáº·p nhau: 14/02/2022",
    "ğŸ’– NgÃ y báº¯t Ä‘áº§u yÃªu: 01/03/2022",
    "ğŸ’– Chuyáº¿n Ä‘i Ä‘áº§u tiÃªn: 12/08/2022",
    "ğŸ’– Khoáº£nh kháº¯c Ä‘áº·c biá»‡t: â€¦",
  ];
  const box=document.getElementById('milestones');
  let i=0;
  function typeWriter(text, cb){
    const p=document.createElement('p'); box.appendChild(p);
    let j=0;
    function step(){
      if(j<text.length){p.textContent+=text.charAt(j);j++;setTimeout(step,50);} else if(cb) cb();
    }
    step();
  }
  function next(){ if(i<list.length) typeWriter(list[i++], ()=>setTimeout(next,300)); }
  next();
}
</script>
</body>
</html>
